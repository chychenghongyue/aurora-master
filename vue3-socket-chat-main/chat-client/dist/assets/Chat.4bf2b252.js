var wt=Object.defineProperty;var _t=(o,e,t)=>e in o?wt(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var se=(o,e,t)=>(_t(o,typeof e!="symbol"?e+"":e,t),t);import{i as kt,a as Ge,r as Ct,b as Q,g as ao,c as Wo,u as Ko,d as D,e as l,f as Et,h as jo,j as B,t as vo,k as Do,w as J,l as St,o as At,m as Dt,N as to,n as X,p as H,q as Xo,s as ae,v as Go,x as me,y as Io,z as g,A as F,B as x,C as ze,D as Fe,E as f,F as k,G as re,T as xo,_ as te,H as _,I as b,J as Z,K as W,L as ee,M as Ce,O as It,P as xe,Q as no,R as Jo,S as be,U as Tt,V as q,W as ke,X as N,Y as Bt,Z as we,$ as Oe,a0 as Re,a1 as U,a2 as Nt,a3 as $e,a4 as De,a5 as Zo,a6 as To,a7 as Lt,a8 as Je,a9 as Bo,aa as Rt,ab as Qo,ac as et,ad as He,ae as Y,af as wo,ag as ot,ah as so,ai as ge,aj as tt,ak as No,al as Ot,am as $t,an as zt,ao as Ft,ap as Mt,aq as Pt,ar as Vt,as as Ht,at as qt,au as Yt,av as Me,aw as Se,ax as Ut,ay as Wt,az as Kt,aA as rt,aB as jt,aC as Xt,aD as oe,aE as _o,aF as Gt,aG as co,aH as po,aI as Jt,aJ as Zt,aK as Qt,aL as er,aM as or,aN as lt,aO as tr,aP as Lo,aQ as Ie,aR as _e,aS as ho,aT as Ze,aU as Pe,aV as ko,aW as Co,aX as it,aY as uo,aZ as rr,a_ as lr,a$ as ir,b0 as ar}from"./index.9b3db407.js";var nr=/\s/;function sr(o){for(var e=o.length;e--&&nr.test(o.charAt(e)););return e}var cr=/^\s+/;function pr(o){return o&&o.slice(0,sr(o)+1).replace(cr,"")}var Ro=0/0,dr=/^[-+]0x[0-9a-f]+$/i,hr=/^0b[01]+$/i,ur=/^0o[0-7]+$/i,fr=parseInt;function Oo(o){if(typeof o=="number")return o;if(kt(o))return Ro;if(Ge(o)){var e=typeof o.valueOf=="function"?o.valueOf():o;o=Ge(e)?e+"":e}if(typeof o!="string")return o===0?o:+o;o=pr(o);var t=hr.test(o);return t||ur.test(o)?fr(o.slice(2),t?2:8):dr.test(o)?Ro:+o}var gr=function(){return Ct.Date.now()},ro=gr,mr="Expected a function",br=Math.max,yr=Math.min;function vr(o,e,t){var r,i,c,n,s,a,p=0,u=!1,m=!1,d=!0;if(typeof o!="function")throw new TypeError(mr);e=Oo(e)||0,Ge(t)&&(u=!!t.leading,m="maxWait"in t,c=m?br(Oo(t.maxWait)||0,e):c,d="trailing"in t?!!t.trailing:d);function A(h){var S=r,O=i;return r=i=void 0,p=h,n=o.apply(O,S),n}function C(h){return p=h,s=setTimeout(T,e),u?A(h):n}function w(h){var S=h-a,O=h-p,z=e-S;return m?yr(z,c-O):z}function E(h){var S=h-a,O=h-p;return a===void 0||S>=e||S<0||m&&O>=c}function T(){var h=ro();if(E(h))return $(h);s=setTimeout(T,w(h))}function $(h){return s=void 0,d&&r?A(h):(r=i=void 0,n)}function P(){s!==void 0&&clearTimeout(s),p=0,r=a=i=s=void 0}function M(){return s===void 0?n:$(ro())}function v(){var h=ro(),S=E(h);if(r=arguments,i=this,a=h,S){if(s===void 0)return C(a);if(m)return clearTimeout(s),s=setTimeout(T,e),A(a)}return s===void 0&&(s=setTimeout(T,e)),n}return v.cancel=P,v.flush=M,v}var xr="Expected a function";function lo(o,e,t){var r=!0,i=!0;if(typeof o!="function")throw new TypeError(xr);return Ge(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),vr(o,e,{leading:r,maxWait:e,trailing:i})}const wr=(o,e)=>{if(!Q||!o||!e)return!1;const t=o.getBoundingClientRect();let r;return e instanceof Element?r=e.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},t.top<r.bottom&&t.bottom>r.top&&t.right>r.left&&t.left<r.right},_r=(o,e)=>{if(!Q)return!1;const t={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],r=ao(o,t);return["scroll","auto","overlay"].some(i=>r.includes(i))},kr=(o,e)=>{if(!Q)return;let t=o;for(;t;){if([window,document,document.documentElement].includes(t))return window;if(_r(t,e))return t;t=t.parentNode}return t};let qe;const Cr=()=>{var o;if(!Q)return 0;if(qe!==void 0)return qe;const e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth;e.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",e.appendChild(r);const i=r.offsetWidth;return(o=e.parentNode)==null||o.removeChild(e),qe=t-i,qe},Er=o=>["",...Wo].includes(o);var We=(o=>(o[o.TEXT=1]="TEXT",o[o.CLASS=2]="CLASS",o[o.STYLE=4]="STYLE",o[o.PROPS=8]="PROPS",o[o.FULL_PROPS=16]="FULL_PROPS",o[o.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",o[o.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",o[o.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",o[o.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",o[o.NEED_PATCH=512]="NEED_PATCH",o[o.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",o[o.HOISTED=-1]="HOISTED",o[o.BAIL=-2]="BAIL",o))(We||{});const Sr=()=>Q&&/firefox/i.test(window.navigator.userAgent),at=Symbol("scrollbarContextKey");var Ar={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const Dr=o=>(e,t)=>Ir(e,t,l(o)),Ir=(o,e,t)=>Et(t,o,o).replace(/\{(\w+)\}/g,(r,i)=>{var c;return`${(c=e==null?void 0:e[i])!=null?c:`{${i}}`}`}),Tr=o=>{const e=D(()=>l(o).name),t=jo(o)?o:B(o);return{lang:e,locale:t,t:Dr(o)}},Qe=()=>{const o=Ko("locale");return Tr(D(()=>o.value||Ar))},Br=o=>{if(jo(o)||vo("[useLockscreen]","You need to pass a ref param to this function"),!Q||Do(document.body,"el-popup-parent--hidden"))return;let e=0,t=!1,r="0",i=0;const c=()=>{Dt(document.body,"el-popup-parent--hidden"),t&&(document.body.style.paddingRight=r)};J(o,n=>{if(!n){c();return}t=!Do(document.body,"el-popup-parent--hidden"),t&&(r=document.body.style.paddingRight,i=Number.parseInt(ao(document.body,"paddingRight"),10)),e=Cr();const s=document.documentElement.clientHeight<document.body.scrollHeight,a=ao(document.body,"overflowY");e>0&&(s||a==="scroll")&&t&&(document.body.style.paddingRight=`${i+e}px`),St(document.body,"el-popup-parent--hidden")}),At(()=>c())},Nr=o=>{if(!o)return{onClick:to,onMousedown:to,onMouseup:to};let e=!1,t=!1;return{onClick:n=>{e&&t&&o(n),e=t=!1},onMousedown:n=>{e=n.target===n.currentTarget},onMouseup:n=>{t=n.target===n.currentTarget}}},Ae=4,Lr={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Rr=({move:o,size:e,bar:t})=>({[t.size]:e,transform:`translate${t.axis}(${o}%)`}),Or=X({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),$r=H({__name:"thumb",props:Or,setup(o){const e=o,t="Thumb",r=Xo(at),i=ae("scrollbar");r||vo(t,"can not inject scrollbar context");const c=B(),n=B(),s=B({}),a=B(!1);let p=!1,u=!1,m=Q?document.onselectstart:null;const d=D(()=>Lr[e.vertical?"vertical":"horizontal"]),A=D(()=>Rr({size:e.size,move:e.move,bar:d.value})),C=D(()=>c.value[d.value.offset]**2/r.wrapElement[d.value.scrollSize]/e.ratio/n.value[d.value.offset]),w=S=>{var O;if(S.stopPropagation(),S.ctrlKey||[1,2].includes(S.button))return;(O=window.getSelection())==null||O.removeAllRanges(),T(S);const z=S.currentTarget;!z||(s.value[d.value.axis]=z[d.value.offset]-(S[d.value.client]-z.getBoundingClientRect()[d.value.direction]))},E=S=>{if(!n.value||!c.value||!r.wrapElement)return;const O=Math.abs(S.target.getBoundingClientRect()[d.value.direction]-S[d.value.client]),z=n.value[d.value.offset]/2,K=(O-z)*100*C.value/c.value[d.value.offset];r.wrapElement[d.value.scroll]=K*r.wrapElement[d.value.scrollSize]/100},T=S=>{S.stopImmediatePropagation(),p=!0,document.addEventListener("mousemove",$),document.addEventListener("mouseup",P),m=document.onselectstart,document.onselectstart=()=>!1},$=S=>{if(!c.value||!n.value||p===!1)return;const O=s.value[d.value.axis];if(!O)return;const z=(c.value.getBoundingClientRect()[d.value.direction]-S[d.value.client])*-1,K=n.value[d.value.offset]-O,de=(z-K)*100*C.value/c.value[d.value.offset];r.wrapElement[d.value.scroll]=de*r.wrapElement[d.value.scrollSize]/100},P=()=>{p=!1,s.value[d.value.axis]=0,document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",P),h(),u&&(a.value=!1)},M=()=>{u=!1,a.value=!!e.size},v=()=>{u=!0,a.value=p};Go(()=>{h(),document.removeEventListener("mouseup",P)});const h=()=>{document.onselectstart!==m&&(document.onselectstart=m)};return me(Io(r,"scrollbarElement"),"mousemove",M),me(Io(r,"scrollbarElement"),"mouseleave",v),(S,O)=>(g(),F(xo,{name:l(i).b("fade"),persisted:""},{default:x(()=>[ze(f("div",{ref_key:"instance",ref:c,class:k([l(i).e("bar"),l(i).is(l(d).key)]),onMousedown:E},[f("div",{ref_key:"thumb",ref:n,class:k(l(i).e("thumb")),style:re(l(A)),onMousedown:w},null,38)],34),[[Fe,S.always||a.value]])]),_:1},8,["name"]))}});var $o=te($r,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const zr=X({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),Fr=H({__name:"bar",props:zr,setup(o,{expose:e}){const t=o,r=B(0),i=B(0);return e({handleScroll:n=>{if(n){const s=n.offsetHeight-Ae,a=n.offsetWidth-Ae;i.value=n.scrollTop*100/s*t.ratioY,r.value=n.scrollLeft*100/a*t.ratioX}}}),(n,s)=>(g(),_(Z,null,[b($o,{move:r.value,ratio:n.ratioX,size:n.width,always:n.always},null,8,["move","ratio","size","always"]),b($o,{move:i.value,ratio:n.ratioY,size:n.height,vertical:"",always:n.always},null,8,["move","ratio","size","always"])],64))}});var Mr=te(Fr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const Pr=X({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:W([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),Vr={scroll:({scrollTop:o,scrollLeft:e})=>[o,e].every(ee)},Hr={name:"ElScrollbar"},qr=H({...Hr,props:Pr,emits:Vr,setup(o,{expose:e,emit:t}){const r=o,i=ae("scrollbar");let c,n;const s=B(),a=B(),p=B(),u=B("0"),m=B("0"),d=B(),A=B(1),C=B(1),w=D(()=>{const v={};return r.height&&(v.height=Ce(r.height)),r.maxHeight&&(v.maxHeight=Ce(r.maxHeight)),[r.wrapStyle,v]}),E=()=>{var v;a.value&&((v=d.value)==null||v.handleScroll(a.value),t("scroll",{scrollTop:a.value.scrollTop,scrollLeft:a.value.scrollLeft}))};function T(v,h){Bt(v)?a.value.scrollTo(v):ee(v)&&ee(h)&&a.value.scrollTo(v,h)}const $=v=>{!ee(v)||(a.value.scrollTop=v)},P=v=>{!ee(v)||(a.value.scrollLeft=v)},M=()=>{if(!a.value)return;const v=a.value.offsetHeight-Ae,h=a.value.offsetWidth-Ae,S=v**2/a.value.scrollHeight,O=h**2/a.value.scrollWidth,z=Math.max(S,r.minSize),K=Math.max(O,r.minSize);A.value=S/(v-S)/(z/(v-z)),C.value=O/(h-O)/(K/(h-K)),m.value=z+Ae<v?`${z}px`:"",u.value=K+Ae<h?`${K}px`:""};return J(()=>r.noresize,v=>{v?(c==null||c(),n==null||n()):({stop:c}=It(p,M),n=me("resize",M))},{immediate:!0}),J(()=>[r.maxHeight,r.height],()=>{r.native||xe(()=>{var v;M(),a.value&&((v=d.value)==null||v.handleScroll(a.value))})}),no(at,Jo({scrollbarElement:s,wrapElement:a})),be(()=>{r.native||xe(()=>M())}),Tt(()=>M()),e({wrap$:a,update:M,scrollTo:T,setScrollTop:$,setScrollLeft:P,handleScroll:E}),(v,h)=>(g(),_("div",{ref_key:"scrollbar$",ref:s,class:k(l(i).b())},[f("div",{ref_key:"wrap$",ref:a,class:k([v.wrapClass,l(i).e("wrap"),{[l(i).em("wrap","hidden-default")]:!v.native}]),style:re(l(w)),onScroll:E},[(g(),F(ke(v.tag),{ref_key:"resize$",ref:p,class:k([l(i).e("view"),v.viewClass]),style:re(v.viewStyle)},{default:x(()=>[q(v.$slots,"default")]),_:3},8,["class","style"]))],38),v.native?N("v-if",!0):(g(),F(Mr,{key:0,ref_key:"barRef",ref:d,height:m.value,width:u.value,always:v.always,"ratio-x":C.value,"ratio-y":A.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var Yr=te(qr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const eo=we(Yr),Ur=X({size:{type:[Number,String],values:Wo,default:"",validator:o=>ee(o)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Oe},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:W(String),default:"cover"}}),Wr={error:o=>o instanceof Event},Kr=["src","alt","srcset"],jr={name:"ElAvatar"},Xr=H({...jr,props:Ur,emits:Wr,setup(o,{emit:e}){const t=o,r=ae("avatar"),i=B(!1),c=D(()=>{const{size:p,icon:u,shape:m}=t,d=[r.b()];return Re(p)&&d.push(r.m(p)),u&&d.push(r.m("icon")),m&&d.push(r.m(m)),d}),n=D(()=>{const{size:p}=t;return ee(p)?r.cssVarBlock({size:Ce(p)||""}):void 0}),s=D(()=>({objectFit:t.fit}));J(()=>t.src,()=>i.value=!1);function a(p){i.value=!0,e("error",p)}return(p,u)=>(g(),_("span",{class:k(l(c)),style:re(l(n))},[(p.src||p.srcSet)&&!i.value?(g(),_("img",{key:0,src:p.src,alt:p.alt,srcset:p.srcSet,style:re(l(s)),onError:a},null,44,Kr)):p.icon?(g(),F(l(U),{key:1},{default:x(()=>[(g(),F(ke(p.icon)))]),_:1})):q(p.$slots,"default",{key:2})],6))}});var Gr=te(Xr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/avatar/src/avatar.vue"]]);const Eo=we(Gr),Jr=X({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:W([String,Array,Object])},zIndex:{type:W([String,Number])}}),Zr={click:o=>o instanceof MouseEvent};var Qr=H({name:"ElOverlay",props:Jr,emits:Zr,setup(o,{slots:e,emit:t}){const r=ae("overlay"),i=a=>{t("click",a)},{onClick:c,onMousedown:n,onMouseup:s}=Nr(o.customMaskEvent?void 0:i);return()=>o.mask?b("div",{class:[r.b(),o.overlayClass],style:{zIndex:o.zIndex},onClick:c,onMousedown:n,onMouseup:s},[q(e,"default")],We.STYLE|We.CLASS|We.PROPS,["onClick","onMouseup","onMousedown"]):Nt("div",{class:o.overlayClass,style:{zIndex:o.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[q(e,"default")])}});const el=Qr,ol=X({center:{type:Boolean,default:!1},closeIcon:{type:Oe,default:""},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),tl=X({...ol,appendToBody:{type:Boolean,default:!1},beforeClose:{type:W(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,required:!0},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),rl={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[$e]:o=>De(o),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},ll=(o,e)=>{const r=Je().emit,{nextZIndex:i}=Zo();let c="";const n=To(),s=To(),a=B(!1),p=B(!1),u=B(!1),m=B(o.zIndex||i());let d,A;const C=Ko("namespace",Lt),w=D(()=>{const j={},he=`--${C.value}-dialog`;return o.fullscreen||(o.top&&(j[`${he}-margin-top`]=o.top),o.width&&(j[`${he}-width`]=Ce(o.width))),j});function E(){r("opened")}function T(){r("closed"),r($e,!1),o.destroyOnClose&&(u.value=!1)}function $(){r("close")}function P(){A==null||A(),d==null||d(),o.openDelay&&o.openDelay>0?{stop:d}=Bo(()=>S(),o.openDelay):S()}function M(){d==null||d(),A==null||A(),o.closeDelay&&o.closeDelay>0?{stop:A}=Bo(()=>O(),o.closeDelay):O()}function v(){function j(he){he||(p.value=!0,a.value=!1)}o.beforeClose?o.beforeClose(j):M()}function h(){o.closeOnClickModal&&v()}function S(){!Q||(a.value=!0)}function O(){a.value=!1}function z(){r("openAutoFocus")}function K(){r("closeAutoFocus")}o.lockScroll&&Br(a);function de(){o.closeOnPressEscape&&v()}return J(()=>o.modelValue,j=>{j?(p.value=!1,P(),u.value=!0,r("open"),m.value=o.zIndex?m.value++:i(),xe(()=>{e.value&&(e.value.scrollTop=0)})):a.value&&M()}),J(()=>o.fullscreen,j=>{!e.value||(j?(c=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=c)}),be(()=>{o.modelValue&&(a.value=!0,u.value=!0,P())}),{afterEnter:E,afterLeave:T,beforeLeave:$,handleClose:v,onModalClick:h,close:M,doClose:O,onOpenAutoFocus:z,onCloseAutoFocus:K,onCloseRequested:de,titleId:n,bodyId:s,closed:p,style:w,rendered:u,visible:a,zIndex:m}},il=X({...tl,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}}),al=rl,nl=H({name:"ElDrawer",components:{ElOverlay:el,ElFocusTrap:Rt,ElIcon:U,Close:Qo},props:il,emits:al,setup(o,{slots:e}){et({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},D(()=>!!e.title));const t=B(),r=B(),i=ae("drawer"),{t:c}=Qe(),n=D(()=>o.direction==="rtl"||o.direction==="ltr"),s=D(()=>Ce(o.size));return{...ll(o,t),drawerRef:t,focusStartRef:r,isHorizontal:n,drawerSize:s,ns:i,t:c}}}),sl=["aria-label","aria-labelledby","aria-describedby"],cl=["id"],pl=["aria-label"],dl=["id"];function hl(o,e,t,r,i,c){const n=He("close"),s=He("el-icon"),a=He("el-focus-trap"),p=He("el-overlay");return g(),F(ot,{to:"body",disabled:!o.appendToBody},[b(xo,{name:o.ns.b("fade"),onAfterEnter:o.afterEnter,onAfterLeave:o.afterLeave,onBeforeLeave:o.beforeLeave,persisted:""},{default:x(()=>[ze(b(p,{mask:o.modal,"overlay-class":o.modalClass,"z-index":o.zIndex,onClick:o.onModalClick},{default:x(()=>[b(a,{loop:"",trapped:o.visible,"focus-trap-el":o.drawerRef,"focus-start-el":o.focusStartRef,onReleaseRequested:o.onCloseRequested},{default:x(()=>[f("div",{ref:"drawerRef","aria-modal":"true","aria-label":o.title||void 0,"aria-labelledby":o.title?void 0:o.titleId,"aria-describedby":o.bodyId,class:k([o.ns.b(),o.direction,o.visible&&"open",o.customClass]),style:re(o.isHorizontal?"width: "+o.drawerSize:"height: "+o.drawerSize),role:"dialog",onClick:e[1]||(e[1]=wo(()=>{},["stop"]))},[f("span",{ref:"focusStartRef",class:k(o.ns.e("sr-focus")),tabindex:"-1"},null,2),o.withHeader?(g(),_("header",{key:0,class:k(o.ns.e("header"))},[o.$slots.title?q(o.$slots,"title",{key:1},()=>[N(" DEPRECATED SLOT ")]):q(o.$slots,"header",{key:0,close:o.handleClose,titleId:o.titleId,titleClass:o.ns.e("title")},()=>[o.$slots.title?N("v-if",!0):(g(),_("span",{key:0,id:o.titleId,role:"heading",class:k(o.ns.e("title"))},Y(o.title),11,cl))]),o.showClose?(g(),_("button",{key:2,"aria-label":o.t("el.drawer.close"),class:k(o.ns.e("close-btn")),type:"button",onClick:e[0]||(e[0]=(...u)=>o.handleClose&&o.handleClose(...u))},[b(s,{class:k(o.ns.e("close"))},{default:x(()=>[b(n)]),_:1},8,["class"])],10,pl)):N("v-if",!0)],2)):N("v-if",!0),o.rendered?(g(),_("div",{key:1,id:o.bodyId,class:k(o.ns.e("body"))},[q(o.$slots,"default")],10,dl)):N("v-if",!0),o.$slots.footer?(g(),_("div",{key:2,class:k(o.ns.e("footer"))},[q(o.$slots,"footer")],2)):N("v-if",!0)],14,sl)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Fe,o.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var ul=te(nl,[["render",hl],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const fl=we(ul),gl={inheritAttrs:!1};function ml(o,e,t,r,i,c){return q(o.$slots,"default")}var bl=te(gl,[["render",ml],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const yl={name:"ElCollectionItem",inheritAttrs:!1};function vl(o,e,t,r,i,c){return q(o.$slots,"default")}var xl=te(yl,[["render",vl],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const wl="data-el-collection-item",_l=o=>{const e=`El${o}Collection`,t=`${e}Item`,r=Symbol(e),i=Symbol(t),c={...bl,name:e,setup(){const s=B(null),a=new Map;no(r,{itemMap:a,getItems:()=>{const u=l(s);if(!u)return[];const m=Array.from(u.querySelectorAll(`[${wl}]`));return[...a.values()].sort((A,C)=>m.indexOf(A.ref)-m.indexOf(C.ref))},collectionRef:s})}},n={...xl,name:t,setup(s,{attrs:a}){const p=B(null),u=Xo(r,void 0);no(i,{collectionItemRef:p}),be(()=>{const m=l(p);m&&u.itemMap.set(m,{ref:m,...a})}),Go(()=>{const m=l(p);u.itemMap.delete(m)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:i,ElCollection:c,ElCollectionItem:n}},io=X({trigger:so.trigger,effect:{...ge.effect,default:"light"},type:{type:W(String)},placement:{type:W(String),default:"bottom"},popperOptions:{type:W(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:W([Number,String]),default:0},maxHeight:{type:W([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:W(Object)}});X({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Oe}});X({onKeydown:{type:W(Function)}});_l("Dropdown");let kl=0;const Cl=H({name:"ImgEmpty",setup(){return{ns:ae("empty"),id:++kl}}}),El={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Sl=["id"],Al=["stop-color"],Dl=["stop-color"],Il=["id"],Tl=["stop-color"],Bl=["stop-color"],Nl=["id"],Ll={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},Rl={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},Ol={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},$l=["fill"],zl=["fill"],Fl={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},Ml=["fill"],Pl=["fill"],Vl=["fill"],Hl=["fill"],ql=["fill"],Yl={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},Ul=["fill","xlink:href"],Wl=["fill","mask"],Kl=["fill"];function jl(o,e,t,r,i,c){return g(),_("svg",El,[f("defs",null,[f("linearGradient",{id:`linearGradient-1-${o.id}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[f("stop",{"stop-color":`var(${o.ns.cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,Al),f("stop",{"stop-color":`var(${o.ns.cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,Dl)],8,Sl),f("linearGradient",{id:`linearGradient-2-${o.id}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[f("stop",{"stop-color":`var(${o.ns.cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,Tl),f("stop",{"stop-color":`var(${o.ns.cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,Bl)],8,Il),f("rect",{id:`path-3-${o.id}`,x:"0",y:"0",width:"17",height:"36"},null,8,Nl)]),f("g",Ll,[f("g",Rl,[f("g",Ol,[f("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${o.ns.cssVarBlockName("fill-color-3")})`},null,8,$l),f("polygon",{id:"Rectangle-Copy-14",fill:`var(${o.ns.cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,zl),f("g",Fl,[f("polygon",{id:"Rectangle-Copy-10",fill:`var(${o.ns.cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,Ml),f("polygon",{id:"Rectangle-Copy-11",fill:`var(${o.ns.cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,Pl),f("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${o.id})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,Vl),f("polygon",{id:"Rectangle-Copy-13",fill:`var(${o.ns.cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,Hl)]),f("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${o.id})`,x:"13",y:"45",width:"40",height:"36"},null,8,ql),f("g",Yl,[f("use",{id:"Mask",fill:`var(${o.ns.cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${o.id}`},null,8,Ul),f("polygon",{id:"Rectangle-Copy",fill:`var(${o.ns.cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${o.id})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,Wl)]),f("polygon",{id:"Rectangle-Copy-18",fill:`var(${o.ns.cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,Kl)])])])])}var Xl=te(Cl,[["render",jl],["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue"]]);const Gl={image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}},Jl=["src"],Zl={key:1},Ql={name:"ElEmpty"},ei=H({...Ql,props:Gl,setup(o){const e=o,{t}=Qe(),r=ae("empty"),i=D(()=>e.description||t("el.table.emptyText")),c=D(()=>({width:e.imageSize?`${e.imageSize}px`:""}));return(n,s)=>(g(),_("div",{class:k(l(r).b())},[f("div",{class:k(l(r).e("image")),style:re(l(c))},[n.image?(g(),_("img",{key:0,src:n.image,ondragstart:"return false"},null,8,Jl)):q(n.$slots,"image",{key:1},()=>[b(Xl)])],6),f("div",{class:k(l(r).e("description"))},[n.$slots.description?q(n.$slots,"description",{key:0}):(g(),_("p",Zl,Y(l(i)),1))],2),n.$slots.default?(g(),_("div",{key:0,class:k(l(r).e("bottom"))},[q(n.$slots,"default")],2)):N("v-if",!0)],2))}});var oi=te(ei,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue"]]);const ti=we(oi),ri=X({urlList:{type:W(Array),default:()=>tt([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:{type:Boolean,default:!1},teleported:{type:Boolean,default:!1},closeOnPressEscape:{type:Boolean,default:!0}}),li={close:()=>!0,switch:o=>ee(o)},ii=["src"],ai={name:"ElImageViewer"},ni=H({...ai,props:ri,emits:li,setup(o,{emit:e}){const t=o,r={CONTAIN:{name:"contain",icon:No(Ot)},ORIGINAL:{name:"original",icon:No($t)}},i=Sr()?"DOMMouseScroll":"mousewheel",{t:c}=Qe(),n=ae("image-viewer"),{nextZIndex:s}=Zo(),a=B(),p=B([]),u=zt(),m=B(!0),d=B(t.initialIndex),A=Ft(r.CONTAIN),C=B({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),w=D(()=>{const{urlList:I}=t;return I.length<=1}),E=D(()=>d.value===0),T=D(()=>d.value===t.urlList.length-1),$=D(()=>t.urlList[d.value]),P=D(()=>{const{scale:I,deg:y,offsetX:R,offsetY:G,enableTransition:ue}=C.value;let le=R/I,fe=G/I;switch(y%360){case 90:case-270:[le,fe]=[fe,-le];break;case 180:case-180:[le,fe]=[-le,-fe];break;case 270:case-90:[le,fe]=[-fe,le];break}const Ee={transform:`scale(${I}) rotate(${y}deg) translate(${le}px, ${fe}px)`,transition:ue?"transform .3s":""};return A.value.name===r.CONTAIN.name&&(Ee.maxWidth=Ee.maxHeight="100%"),Ee}),M=D(()=>ee(t.zIndex)?t.zIndex:s());function v(){S(),e("close")}function h(){const I=lo(R=>{switch(R.code){case Se.esc:t.closeOnPressEscape&&v();break;case Se.space:j();break;case Se.left:he();break;case Se.up:ne("zoomIn");break;case Se.right:Ve();break;case Se.down:ne("zoomOut");break}}),y=lo(R=>{(R.wheelDelta?R.wheelDelta:-R.detail)>0?ne("zoomIn",{zoomRate:1.2,enableTransition:!1}):ne("zoomOut",{zoomRate:1.2,enableTransition:!1})});u.run(()=>{me(document,"keydown",I),me(document,i,y)})}function S(){u.stop()}function O(){m.value=!1}function z(I){m.value=!1,I.target.alt=c("el.image.error")}function K(I){if(m.value||I.button!==0||!a.value)return;C.value.enableTransition=!1;const{offsetX:y,offsetY:R}=C.value,G=I.pageX,ue=I.pageY,le=lo(Ee=>{C.value={...C.value,offsetX:y+Ee.pageX-G,offsetY:R+Ee.pageY-ue}}),fe=me(document,"mousemove",le);me(document,"mouseup",()=>{fe()}),I.preventDefault()}function de(){C.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function j(){if(m.value)return;const I=Ut(r),y=Object.values(r),R=A.value.name,ue=(y.findIndex(le=>le.name===R)+1)%I.length;A.value=r[I[ue]],de()}function he(){if(E.value&&!t.infinite)return;const I=t.urlList.length;d.value=(d.value-1+I)%I}function Ve(){if(T.value&&!t.infinite)return;const I=t.urlList.length;d.value=(d.value+1)%I}function ne(I,y={}){if(m.value)return;const{zoomRate:R,rotateDeg:G,enableTransition:ue}={zoomRate:1.4,rotateDeg:90,enableTransition:!0,...y};switch(I){case"zoomOut":C.value.scale>.2&&(C.value.scale=Number.parseFloat((C.value.scale/R).toFixed(3)));break;case"zoomIn":C.value.scale<7&&(C.value.scale=Number.parseFloat((C.value.scale*R).toFixed(3)));break;case"clockwise":C.value.deg+=G;break;case"anticlockwise":C.value.deg-=G;break}C.value.enableTransition=ue}return J($,()=>{xe(()=>{const I=p.value[0];I!=null&&I.complete||(m.value=!0)})}),J(d,I=>{de(),e("switch",I)}),be(()=>{var I,y;h(),(y=(I=a.value)==null?void 0:I.focus)==null||y.call(I)}),(I,y)=>(g(),F(ot,{to:"body",disabled:!I.teleported},[b(xo,{name:"viewer-fade",appear:""},{default:x(()=>[f("div",{ref_key:"wrapper",ref:a,tabindex:-1,class:k(l(n).e("wrapper")),style:re({zIndex:l(M)})},[f("div",{class:k(l(n).e("mask")),onClick:y[0]||(y[0]=wo(R=>I.hideOnClickModal&&v(),["self"]))},null,2),N(" CLOSE "),f("span",{class:k([l(n).e("btn"),l(n).e("close")]),onClick:v},[b(l(U),null,{default:x(()=>[b(l(Qo))]),_:1})],2),N(" ARROW "),l(w)?N("v-if",!0):(g(),_(Z,{key:0},[f("span",{class:k([l(n).e("btn"),l(n).e("prev"),l(n).is("disabled",!I.infinite&&l(E))]),onClick:he},[b(l(U),null,{default:x(()=>[b(l(Mt))]),_:1})],2),f("span",{class:k([l(n).e("btn"),l(n).e("next"),l(n).is("disabled",!I.infinite&&l(T))]),onClick:Ve},[b(l(U),null,{default:x(()=>[b(l(Pt))]),_:1})],2)],64)),N(" ACTIONS "),f("div",{class:k([l(n).e("btn"),l(n).e("actions")])},[f("div",{class:k(l(n).e("actions__inner"))},[b(l(U),{onClick:y[1]||(y[1]=R=>ne("zoomOut"))},{default:x(()=>[b(l(Vt))]),_:1}),b(l(U),{onClick:y[2]||(y[2]=R=>ne("zoomIn"))},{default:x(()=>[b(l(Ht))]),_:1}),f("i",{class:k(l(n).e("actions__divider"))},null,2),b(l(U),{onClick:j},{default:x(()=>[(g(),F(ke(l(A).icon)))]),_:1}),f("i",{class:k(l(n).e("actions__divider"))},null,2),b(l(U),{onClick:y[3]||(y[3]=R=>ne("anticlockwise"))},{default:x(()=>[b(l(qt))]),_:1}),b(l(U),{onClick:y[4]||(y[4]=R=>ne("clockwise"))},{default:x(()=>[b(l(Yt))]),_:1})],2)],2),N(" CANVAS "),f("div",{class:k(l(n).e("canvas"))},[(g(!0),_(Z,null,Me(I.urlList,(R,G)=>ze((g(),_("img",{ref_for:!0,ref:ue=>p.value[G]=ue,key:R,src:R,style:re(l(P)),class:k(l(n).e("img")),onLoad:O,onError:z,onMousedown:K},null,46,ii)),[[Fe,G===d.value]])),128))],2),q(I.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var si=te(ni,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const ci=we(si),pi=X({hideOnClickModal:{type:Boolean,default:!1},src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:{type:Boolean,default:!1},scrollContainer:{type:W([String,Object])},previewSrcList:{type:W(Array),default:()=>tt([])},previewTeleported:{type:Boolean,default:!1},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0}}),di={load:o=>o instanceof Event,error:o=>o instanceof Event,switch:o=>ee(o),close:()=>!0},hi=["src","loading"],ui={key:0},fi={name:"ElImage",inheritAttrs:!1},gi=H({...fi,props:pi,emits:di,setup(o,{emit:e}){const t=o;let r="";const{t:i}=Qe(),c=ae("image"),n=Wt(),s=Kt(),a=B(),p=B(!1),u=B(!0),m=B(!1),d=B(),A=B(),C=Q&&"loading"in HTMLImageElement.prototype;let w,E;const T=D(()=>n.style),$=D(()=>{const{fit:y}=t;return Q&&y?{objectFit:y}:{}}),P=D(()=>{const{previewSrcList:y}=t;return Array.isArray(y)&&y.length>0}),M=D(()=>{const{previewSrcList:y,initialIndex:R}=t;let G=R;return R>y.length-1&&(G=0),G}),v=D(()=>t.loading==="eager"?!1:!C&&t.loading==="lazy"||t.lazy),h=()=>{!Q||(u.value=!0,p.value=!1,a.value=t.src)};function S(y){u.value=!1,p.value=!1,e("load",y)}function O(y){u.value=!1,p.value=!0,e("error",y)}function z(){wr(d.value,A.value)&&(h(),j())}const K=Xt(z,200);async function de(){var y;if(!Q)return;await xe();const{scrollContainer:R}=t;jt(R)?A.value=R:Re(R)&&R!==""?A.value=(y=document.querySelector(R))!=null?y:void 0:d.value&&(A.value=kr(d.value)),A.value&&(w=me(A,"scroll",K),setTimeout(()=>z(),100))}function j(){!Q||!A.value||!K||(w==null||w(),A.value=void 0)}function he(y){if(!!y.ctrlKey){if(y.deltaY<0)return y.preventDefault(),!1;if(y.deltaY>0)return y.preventDefault(),!1}}function Ve(){!P.value||(E=me("wheel",he,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",m.value=!0)}function ne(){E==null||E(),document.body.style.overflow=r,m.value=!1,e("close")}function I(y){e("switch",y)}return J(()=>t.src,()=>{v.value?(u.value=!0,p.value=!1,j(),de()):h()}),be(()=>{v.value?de():h()}),(y,R)=>(g(),_("div",{ref_key:"container",ref:d,class:k([l(c).b(),y.$attrs.class]),style:re(l(T))},[a.value!==void 0&&!p.value?(g(),_("img",rt({key:0},l(s),{src:a.value,loading:y.loading,style:l($),class:[l(c).e("inner"),l(P)&&l(c).e("preview"),u.value&&l(c).is("loading")],onClick:Ve,onLoad:S,onError:O}),null,16,hi)):N("v-if",!0),u.value||p.value?(g(),_("div",{key:1,class:k(l(c).e("wrapper"))},[u.value?q(y.$slots,"placeholder",{key:0},()=>[f("div",{class:k(l(c).e("placeholder"))},null,2)]):p.value?q(y.$slots,"error",{key:1},()=>[f("div",{class:k(l(c).e("error"))},Y(l(i)("el.image.error")),3)]):N("v-if",!0)],2)):N("v-if",!0),l(P)?(g(),_(Z,{key:2},[m.value?(g(),F(l(ci),{key:0,"z-index":y.zIndex,"initial-index":l(M),infinite:y.infinite,"url-list":y.previewSrcList,"hide-on-click-modal":y.hideOnClickModal,teleported:y.previewTeleported,"close-on-press-escape":y.closeOnPressEscape,onClose:ne,onSwitch:I},{default:x(()=>[y.$slots.viewer?(g(),_("div",ui,[q(y.$slots,"viewer")])):N("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):N("v-if",!0)],64)):N("v-if",!0)],6))}});var mi=te(gi,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const bi=we(mi),yi=X({trigger:so.trigger,placement:io.placement,disabled:so.disabled,visible:ge.visible,transition:ge.transition,popperOptions:io.popperOptions,tabindex:io.tabindex,content:ge.content,popperStyle:ge.popperStyle,popperClass:ge.popperClass,enterable:{...ge.enterable,default:!0},effect:{...ge.effect,default:"light"},teleported:ge.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0}}),vi={"update:visible":o=>De(o),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},xi={name:"ElPopover"},wi=H({...xi,props:yi,emits:vi,setup(o,{expose:e,emit:t}){const r=o,i=ae("popover"),c=B(),n=D(()=>{var w;return(w=l(c))==null?void 0:w.popperRef}),s=D(()=>[{width:Ce(r.width)},r.popperStyle]),a=D(()=>[i.b(),r.popperClass,{[i.m("plain")]:!!r.content}]),p=D(()=>r.transition==="el-fade-in-linear"),u=()=>{var w;(w=c.value)==null||w.hide()},m=()=>{t("before-enter")},d=()=>{t("before-leave")},A=()=>{t("after-enter")},C=()=>{t("update:visible",!1),t("after-leave")};return e({popperRef:n,hide:u}),(w,E)=>(g(),F(l(_o),rt({ref_key:"tooltipRef",ref:c},w.$attrs,{trigger:w.trigger,placement:w.placement,disabled:w.disabled,visible:w.visible,transition:w.transition,"popper-options":w.popperOptions,tabindex:w.tabindex,content:w.content,offset:w.offset,"show-after":w.showAfter,"hide-after":w.hideAfter,"auto-close":w.autoClose,"show-arrow":w.showArrow,"aria-label":w.title,effect:w.effect,enterable:w.enterable,"popper-class":l(a),"popper-style":l(s),teleported:w.teleported,persistent:w.persistent,"gpu-acceleration":l(p),onBeforeShow:m,onBeforeHide:d,onShow:A,onHide:C}),{content:x(()=>[w.title?(g(),_("div",{key:0,class:k(l(i).e("title")),role:"title"},Y(w.title),3)):N("v-if",!0),q(w.$slots,"default",{},()=>[oe(Y(w.content),1)])]),default:x(()=>[w.$slots.reference?q(w.$slots,"reference",{key:0}):N("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration"]))}});var _i=te(wi,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const zo=(o,e)=>{const t=e.arg||e.value,r=t==null?void 0:t.popperRef;r&&(r.triggerRef=o)};var ki={mounted(o,e){zo(o,e)},updated(o,e){zo(o,e)}};const Ci="popover",Ei=Gt(ki,Ci),Si=we(_i,{directive:Ei}),Ai=X({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:Oe,default:""},inactiveIcon:{type:Oe,default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:W(Function)},size:{type:String,validator:Er},tabindex:{type:[String,Number]}}),Di={[$e]:o=>De(o)||Re(o)||ee(o),[co]:o=>De(o)||Re(o)||ee(o),[po]:o=>De(o)||Re(o)||ee(o)},Ii=["onClick"],Ti=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],Bi=["aria-hidden"],Ni=["aria-hidden"],Li=["aria-hidden"],Ri=["aria-hidden"],Oi={name:"ElSwitch"},$i=H({...Oi,props:Ai,emits:Di,setup(o,{expose:e,emit:t}){const r=o,i="ElSwitch",c=Je(),{formItem:n}=Jt(),s=Zt(),a=ae("switch");et({from:'"value"',replacement:'"model-value" or "v-model"',scope:i,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},D(()=>{var h;return!!((h=c.vnode.props)!=null&&h.value)}));const{inputId:p}=Qt(r,{formItemContext:n}),u=er(D(()=>r.loading)),m=B(r.modelValue!==!1),d=B(),A=B(),C=D(()=>[a.b(),a.m(s.value),a.is("disabled",u.value),a.is("checked",T.value)]),w=D(()=>({width:Ce(r.width)}));J(()=>r.modelValue,()=>{m.value=!0}),J(()=>r.value,()=>{m.value=!1});const E=D(()=>m.value?r.modelValue:r.value),T=D(()=>E.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(E.value)||(t($e,r.inactiveValue),t(co,r.inactiveValue),t(po,r.inactiveValue)),J(T,h=>{var S;d.value.checked=h,r.validateEvent&&((S=n==null?void 0:n.validate)==null||S.call(n,"change").catch(O=>or()))});const $=()=>{const h=T.value?r.inactiveValue:r.activeValue;t($e,h),t(co,h),t(po,h),xe(()=>{d.value.checked=T.value})},P=()=>{if(u.value)return;const{beforeChange:h}=r;if(!h){$();return}const S=h();[Lo(S),De(S)].includes(!0)||vo(i,"beforeChange must return type `Promise<boolean>` or `boolean`"),Lo(S)?S.then(z=>{z&&$()}).catch(z=>{}):S&&$()},M=D(()=>a.cssVarBlock({...r.activeColor?{"on-color":r.activeColor}:null,...r.inactiveColor?{"off-color":r.inactiveColor}:null,...r.borderColor?{"border-color":r.borderColor}:null})),v=()=>{var h,S;(S=(h=d.value)==null?void 0:h.focus)==null||S.call(h)};return be(()=>{d.value.checked=T.value}),e({focus:v}),(h,S)=>(g(),_("div",{class:k(l(C)),style:re(l(M)),onClick:wo(P,["prevent"])},[f("input",{id:l(p),ref_key:"input",ref:d,class:k(l(a).e("input")),type:"checkbox",role:"switch","aria-checked":l(T),"aria-disabled":l(u),name:h.name,"true-value":h.activeValue,"false-value":h.inactiveValue,disabled:l(u),tabindex:h.tabindex,onChange:$,onKeydown:lt(P,["enter"])},null,42,Ti),!h.inlinePrompt&&(h.inactiveIcon||h.inactiveText)?(g(),_("span",{key:0,class:k([l(a).e("label"),l(a).em("label","left"),l(a).is("active",!l(T))])},[h.inactiveIcon?(g(),F(l(U),{key:0},{default:x(()=>[(g(),F(ke(h.inactiveIcon)))]),_:1})):N("v-if",!0),!h.inactiveIcon&&h.inactiveText?(g(),_("span",{key:1,"aria-hidden":l(T)},Y(h.inactiveText),9,Bi)):N("v-if",!0)],2)):N("v-if",!0),f("span",{ref_key:"core",ref:A,class:k(l(a).e("core")),style:re(l(w))},[h.inlinePrompt?(g(),_("div",{key:0,class:k(l(a).e("inner"))},[h.activeIcon||h.inactiveIcon?(g(),_(Z,{key:0},[h.activeIcon?(g(),F(l(U),{key:0,class:k([l(a).is("icon"),l(T)?l(a).is("show"):l(a).is("hide")])},{default:x(()=>[(g(),F(ke(h.activeIcon)))]),_:1},8,["class"])):N("v-if",!0),h.inactiveIcon?(g(),F(l(U),{key:1,class:k([l(a).is("icon"),l(T)?l(a).is("hide"):l(a).is("show")])},{default:x(()=>[(g(),F(ke(h.inactiveIcon)))]),_:1},8,["class"])):N("v-if",!0)],64)):h.activeText||h.inactiveIcon?(g(),_(Z,{key:1},[h.activeText?(g(),_("span",{key:0,class:k([l(a).is("text"),l(T)?l(a).is("show"):l(a).is("hide")]),"aria-hidden":!l(T)},Y(h.activeText.substring(0,3)),11,Ni)):N("v-if",!0),h.inactiveText?(g(),_("span",{key:1,class:k([l(a).is("text"),l(T)?l(a).is("hide"):l(a).is("show")]),"aria-hidden":l(T)},Y(h.inactiveText.substring(0,3)),11,Li)):N("v-if",!0)],64)):N("v-if",!0)],2)):N("v-if",!0),f("div",{class:k(l(a).e("action"))},[h.loading?(g(),F(l(U),{key:0,class:k(l(a).is("loading"))},{default:x(()=>[b(l(tr))]),_:1},8,["class"])):N("v-if",!0)],2)],6),!h.inlinePrompt&&(h.activeIcon||h.activeText)?(g(),_("span",{key:1,class:k([l(a).e("label"),l(a).em("label","right"),l(a).is("active",l(T))])},[h.activeIcon?(g(),F(l(U),{key:0},{default:x(()=>[(g(),F(ke(h.activeIcon)))]),_:1})):N("v-if",!0),!h.activeIcon&&h.activeText?(g(),_("span",{key:1,"aria-hidden":!l(T)},Y(h.activeText),9,Ri)):N("v-if",!0)],2)):N("v-if",!0)],14,Ii))}});var zi=te($i,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Fi=we(zi);class Mi{constructor(e,t,r,i,c,n,s,a,p){se(this,"sendId");se(this,"recipientId");se(this,"content");se(this,"type");se(this,"status");se(this,"timestamp");se(this,"createAt");se(this,"isRead");se(this,"avatar");this.sendId=e,this.recipientId=t,this.content=r,this.type=i,this.status=c,this.timestamp=n,this.createAt=s,this.isRead=a,this.avatar=p}}const Pi={class:"edit-box"},Vi={class:"text-left"},Hi=["id"],qi={class:"text-right mt-10px"},Yi=oe("\u53D1 \u9001"),Ui=H({__name:"ChatEditor",props:{value:null,id:null,height:null},setup(o){const e=_e(),{proxy:t}=Je();Jo({editor:{},data:""}),J(()=>t.value,(s,a)=>{t.value!==e.editorData&&(e.editorData=t.value,e.editor&&e.editor.txt&&e.editor.txt.html(e.editorData))},{immediate:!0,deep:!0}),be(()=>{e.initEditor(),xe(()=>{e.chatEditor=t.$refs.chatEditor})});function r(){var s=navigator.userAgent,a=!1;if(s.indexOf("Edge")>-1)return"Edge";if(s.indexOf(".NET")>-1)return"IE";if(s.indexOf("Opera")>-1||s.indexOf("OPR")>-1)return a=!0,"Opera";if(s.indexOf("Firefox")>-1)return"FF";if(s.indexOf("Chrome")>-1)return"Chrome";if(s.indexOf("Safari")>-1)return"Safari";if(s.indexOf("compatible")>-1&&s.indexOf("MSIE")>-1&&!a)return"IE"}function i(s){if(s.ctrlKey&&s.keyCode===13){let a=e.editor.txt.html().trim().length;r()=="IE"||r()=="Edge"?a==0?e.editor.cmd.do("insertHTML","<div></div><div></div>"):e.editor.cmd.do("insertHTML","<div></div>"):r()=="FF"?a==0?e.editor.cmd.do("insertHTML","<br/><br/><br/><br/>"):e.editor.cmd.do("insertHTML","<br/><br/>"):a==0?e.editor.cmd.do("insertHTML","<div><br/></div><div><br/></div>"):e.editor.cmd.do("insertHTML","<div><br/></div>")}else if(s.keyCode===13)return s.preventDefault(),c(),!1}function c(){let s=e.editor.txt.html().trim();if(s.length){let a=+new Date+"",p=new Mi(e.userInfo.id,e.recipient.id,s,0,0,a,"",!1,e.userInfo.avatar);if(e.socket==null){ho.warning("socket\u4E0D\u5B58\u5728");return}e.sendLocal(p),e.sendInfos(p)}else return;n()}function n(){try{return e.editor.txt.clear()}catch(s){console.warn(s)}}return(s,a)=>{const p=eo,u=Ze,m=_o;return g(),_("div",Pi,[b(p,{height:"100px",class:"w-100% rounded-8px"},{default:x(()=>[f("div",Vi,[f("div",{ref:"chatEditor",id:o.id,onKeydown:a[0]||(a[0]=lt(d=>i(d),["enter"]))},null,40,Hi)])]),_:1}),f("div",qi,[b(m,{placement:"bottom",content:"\u6309enter\u952E\u53D1\u9001\uFF0C\u6309ctrl+enter\u952E\u6362\u884C"},{default:x(()=>[b(u,{type:"primary",onClick:c},{default:x(()=>[Yi]),_:1})]),_:1})])])}}});var Wi=Ie(Ui,[["__scopeId","data-v-c74425fe"]]);var Ki="/assets/emoji.ff71b93a.svg";const ji={class:"px-20px"},Xi=f("div",{class:"text-20px cursor-pointer dark:filter-invert-100"},[f("img",{width:"24",height:"24",class:"block",src:Ki})],-1),Gi={class:"m0 p0 pr-2px flex flex-wrap"},Ji=["title"],Zi=["src","onClick"],Qi=H({__name:"ChatFoot",setup(o){const e=_e(),t=B(null);function r(i){let c=`<img src='${i}' class='emo-image' />`;e.editor.cmd.do("insertHTML",c)}return(i,c)=>{const n=eo,s=Si,a=Pe,p=Wi;return g(),_("footer",ji,[b(a,{type:"flex",class:"mb-10px"},{default:x(()=>[b(s,{placement:"top","popper-class":"chat-icon-popover",trigger:"click"},{reference:x(()=>[Xi]),default:x(()=>[b(n,{class:"emoji",height:"150px"},{default:x(()=>[f("ul",Gi,[(g(!0),_(Z,null,Me(l(e).emojiList,u=>(g(),_("li",{key:u.title,class:"p-5px list-none hover:animate-heart-beat animate-count-animated animate-duration-1s cursor-pointer",title:u.title},[f("img",{width:"30",height:"30",src:u.icon,onClick:m=>r(u.icon)},null,8,Zi)],8,Ji))),128))])]),_:1})]),_:1})]),_:1}),b(p,{modelValue:l(e).sendInfo,"onUpdate:modelValue":c[0]||(c[0]=u=>l(e).sendInfo=u),ref_key:"editor",ref:t,id:"chatEditor",height:135,class:"answer-editor",placeholder:"\u8BF7\u8F93\u5165\u804A\u5929"},null,8,["modelValue"])])}}});const ea={class:"text-left px-20px h-35px"},oa={class:"fw-600"},ta=H({__name:"ChatHead",setup(o){const e=_e();return(t,r)=>{var i;return g(),_("header",ea,[f("span",oa,Y((i=l(e).recipient)==null?void 0:i.email),1)])}}});function ra(o){(""+o).length===10?o=parseInt(o)*1e3:o=+o;const e=+new Date(o),r=(Date.now()-e)/1e3;if(r<30)return"\u521A\u521A";if(r<3600)return Math.ceil(r/60)+"\u5206\u949F\u524D";if(r<3600*24)return Math.ceil(r/3600)+"\u5C0F\u65F6\u524D";if(r<3600*24*2)return"1\u5929\u524D"}const Te=o=>(ko("data-v-38e580f2"),o=o(),Co(),o),la={class:"lg:w-73% w-100%"},ia={class:"px-20px h-500px"},aa={class:"p-20px"},na={class:"text-12px my-20px text-center",style:{color:"var(--ep-color-primary-light-3)"}},sa=["innerHTML"],ca={key:1,width:"300",height:"180",controls:""},pa=["src"],da=oe(" \u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301 HTML5 video \u6807\u7B7E\u3002 "),ha=Te(()=>f("i",{i:"ep-loading",style:{color:"var(--ep-color-primary-light-3)"}},null,-1)),ua=oe(" user "),fa={class:"text-left mt-40px"},ga=Te(()=>f("span",null,"\u90AE \u7BB1\uFF1A",-1)),ma={class:"mt-10px"},ba=Te(()=>f("span",null,"\u8D26 \u53F7\uFF1A",-1)),ya=oe("\u53D1\u6D88\u606F"),va=oe(" user "),xa={class:"text-left mt-20px"},wa=Te(()=>f("div",{class:"text-center text-26px fw-700 mb-30px",style:{color:"var(--ep-color-primary-light-3)"}},"\u6211\u7684\u4FE1\u606F",-1)),_a=Te(()=>f("span",null,"\u90AE \u7BB1\uFF1A",-1)),ka={class:"mt-10px"},Ca=Te(()=>f("span",null,"\u8D26 \u53F7\uFF1A",-1)),Ea=H({__name:"ChatContent",setup(o){const e=_e(),t=B(null);be(()=>{xe(()=>{e.chatScrollbar=t.value})});const r=D(()=>e.conversitionList.filter(n=>{var s,a,p,u;return n.sendId==((s=e.userInfo)==null?void 0:s.id)&&n.recipientId==((a=e.recipient)==null?void 0:a.id)||n.recipientId==((p=e.userInfo)==null?void 0:p.id)&&n.sendId==((u=e.recipient)==null?void 0:u.id)})),i=D(()=>(n,s,a)=>n&&s===0||n&&n.timestamp-a[s-1].timestamp>5*60*1e3?`- - ${ra(n.timestamp)} - -`:"");function c(){var s,a;if(e.sessionSelectId=e.readyRecipient.id,e.recipient=e.readyRecipient,e.navId="1",e.initEditor(),!((a=(s=e.sessionList.filter(p=>{var u;return p.id==((u=e.readyRecipient)==null?void 0:u.id)}))==null?void 0:s.length)!=null?a:0)){e.sessionList.push(e.readyRecipient);let p={recipient:e.readyRecipient};e.socket.emit("insertHistorySession",p)}e.toBottom(),e.changeReaded(e.readyRecipient.id)}return(n,s)=>{const a=ta,p=Eo,u=bi,m=U,d=Pe,A=eo,C=Qi,w=Ze;return g(),_("div",la,[ze(f("div",null,[b(a),f("div",ia,[b(A,{class:"rounded-6px box-border","max-height":"100%",ref_key:"chatScrollbar",ref:t,style:{background:"var(--ep-color-primary-light-9)"}},{default:x(()=>[f("div",aa,[(g(!0),_(Z,null,Me(l(r),(E,T)=>{var $;return g(),_(Z,{key:T},[f("div",na,Y(l(i)(E,T,l(r))),1),b(d,{type:"flex",class:k(["mb-20px",E.sendId==(($=l(e).userInfo)==null?void 0:$.id)&&"flex-row-reverse"])},{default:x(()=>{var P,M,v;return[b(p,{size:42,src:E.avatar},null,8,["src"]),E.type===0?(g(),_("div",{key:0,class:k([E.sendId==((P=l(e).userInfo)==null?void 0:P.id)?"mr-10px":"ml-10px","text break-words px-15px rounded-6px text-left py-12px"]),style:{color:"var(--ep-color-primary)"},innerHTML:E.content},null,10,sa)):(g(),_("div",{key:1,class:k(E.sendId==((M=l(e).userInfo)==null?void 0:M.id)?"mr-10px":"ml-10px")},[E.type===1?(g(),F(u,{key:0,class:"w-200px ha max-h-200px",src:E.content,"preview-src-list":[E.content],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])):N("",!0),E.type===2?(g(),_("video",ca,[f("source",{src:E.content,type:"video/mp4"},null,8,pa),da])):N("",!0)],2)),E.status===0?(g(),F(m,{key:2,class:k([E.sendId==((v=l(e).userInfo)==null?void 0:v.id)?"mr-10px":"ml-10px","is-loading pt-5px"]),size:"40px"},{default:x(()=>[ha]),_:2},1032,["class"])):N("",!0)]}),_:2},1032,["class"])],64)}),128))])]),_:1},512)]),b(C,{class:"mt-20px"})],512),[[Fe,l(e).navId==="1"&&l(e).sessionSelectId!==0]]),l(e).navId==="2"&&l(e).allSessionSelectId!==0?(g(),F(d,{key:0,class:"lg:h-736px h-500px px-20px",type:"flex",align:"middle",justify:"center"},{default:x(()=>{var E,T,$;return[f("div",null,[b(p,{size:120,src:(E=l(e).readyRecipient)==null?void 0:E.avatar},{default:x(()=>[ua]),_:1},8,["src"]),f("div",fa,[f("div",null,[ga,oe(" "+Y((T=l(e).readyRecipient)==null?void 0:T.email),1)]),f("div",ma,[ba,oe(" "+Y(($=l(e).readyRecipient)==null?void 0:$.name),1)])]),b(w,{type:"primary",size:"large",round:"",class:"w-180px mt-30px",onClick:c},{default:x(()=>[ya]),_:1})])]}),_:1})):l(e).navId!=="1"||l(e).sessionSelectId===0?(g(),F(d,{key:1,type:"flex",align:"middle",justify:"center",class:"lg:h-736px h-500px"},{default:x(()=>{var E,T,$;return[f("div",null,[b(p,{size:120,src:(E=l(e).userInfo)==null?void 0:E.avatar},{default:x(()=>[va]),_:1},8,["src"]),f("div",xa,[wa,f("div",null,[_a,oe(" "+Y((T=l(e).userInfo)==null?void 0:T.email),1)]),f("div",ka,[Ca,oe(" "+Y(($=l(e).userInfo)==null?void 0:$.name),1)])])])]}),_:1})):N("",!0)])}}});var Sa=Ie(Ea,[["__scopeId","data-v-38e580f2"]]);const Aa={class:"chat-session lg:w-20% w-70% p-8px box-border"},Da=["onClick"],Ia={class:"w-50% ml-10px text-left"},Ta={class:"truncate"},Ba=["innerHTML"],Na=H({__name:"ChatDomain",setup(o){const e=_e(),t=D(()=>s=>c(s)),r=D(()=>e.navId==="1"?e.sessionList:e.allSessionList),i=D(()=>s=>{let a=e.conversitionList.filter(u=>{var m,d;return u.sendId===((m=e.userInfo)==null?void 0:m.id)&&u.recipientId===s||u.sendId===s&&u.recipientId===((d=e.userInfo)==null?void 0:d.id)}),p="";if(a.length>0){let u=a.length-1;switch(a[u].type){case 0:p=a[u].content;break;case 1:p="\u56FE\u7247";break;case 2:p="\u89C6\u9891";break}}return p});function c(s){return e.conversitionList.filter(p=>p.sendId===s&&p.recipientId===e.userInfo.id&&!p.isRead).length}function n(s){e.drawer=!1,e.navId==="1"?(e.sessionSelectId=s.id,e.recipient=s,e.changeReaded(s.id),e.initEditor(),e.toBottom()):e.navId==="2"&&(e.allSessionSelectId=s.id,e.readyRecipient=s)}return(s,a)=>{const p=Eo,u=it,m=Pe,d=ti,A=eo;return g(),_("div",Aa,[b(A,{"max-height":"100%"},{default:x(()=>[(g(!0),_(Z,null,Me(l(r),C=>(g(),_(Z,{key:C},[(g(),_("div",{key:0,class:k(["session-item px-20px py-10px cursor-pointer rounded-6px",[l(e).navId==="1"&&C.id===l(e).sessionSelectId||l(e).navId==="2"&&C.id===l(e).allSessionSelectId?"session-active":""]]),onClick:w=>n(C)},[b(m,{type:"flex",align:"middle"},{default:x(()=>[b(u,{value:l(t)(C.id),max:10,hidden:!(l(t)(C.id)&&l(e).navId==="1")},{default:x(()=>[b(p,{shape:"square",class:"!block",size:40,fit:"cover",src:C.avatar},null,8,["src"])]),_:2},1032,["value","hidden"]),f("div",Ia,[f("div",Ta,Y(C.email),1),ze(f("div",{class:"truncate text-12px mt-2px",style:{color:"var(--ep-color-primary-light-3)"},innerHTML:l(i)(C.id)},null,8,Ba),[[Fe,l(e).navId==="1"]])])]),_:2},1024)],10,Da))],64))),128)),l(r).length?N("",!0):(g(),F(d,{key:0,"image-size":100,description:"\u597D\u53CB\u5217\u8868\u4E3A\u7A7A"}))]),_:1})])}}});var La=Ie(Na,[["__scopeId","data-v-9bb09f76"]]);const Ra=o=>(ko("data-v-1ef837ae"),o=o(),Co(),o),Oa={class:"lg:w-7% w-30%"},$a={align:"center",class:"mb-20px"},za=oe("user"),Fa=["title"],Ma=oe("\u9000\u51FA\u804A\u5929"),Pa=Ra(()=>f("i",{i:"ep-switch-button",class:"fw-bold"},null,-1)),Va=H({__name:"ChatNav",setup(o){const e=_e();function t(){e.logout(),uo.replace({name:"Login"})}const r=D(()=>c=>c!=="1"?0:e.conversitionList.filter(s=>{var a;return s.recipientId==((a=e.userInfo)==null?void 0:a.id)&&!s.isRead}).length),i=c=>{if(e.navId!==c&&(e.navId=c,e.navId==="1"&&e.sessionSelectId)){e.conversitionList.forEach(s=>{var a;s.sendId===e.sessionSelectId&&s.recipientId===((a=e.userInfo)==null?void 0:a.id)&&!s.isRead&&(s.isRead=!0)});const n={sendId:e.sessionSelectId};e.socket.emit("changeMsgRead",n)}};return(c,n)=>{const s=Eo,a=it,p=lr,u=_o,m=Ze,d=rr;return g(),_("div",Oa,[b(d,{"default-active":"2",class:"h-100%",onSelect:i},{default:x(()=>{var A,C,w;return[f("div",$a,[b(s,{src:(A=l(e).userInfo)==null?void 0:A.avatar},{default:x(()=>[za]),_:1},8,["src"]),f("div",{class:"truncate mt-10px text-14px",title:(C=l(e).userInfo)==null?void 0:C.email,style:{width:"80%"}},Y((w=l(e).userInfo)==null?void 0:w.email),9,Fa)]),(g(!0),_(Z,null,Me(l(e).navList,E=>(g(),_("div",{key:E.index},[b(u,{placement:"left"},{content:x(()=>[oe(Y(E.lable),1)]),default:x(()=>[b(p,{index:E.index,class:"justify-center fw-bold text-24px"},{default:x(()=>[b(a,{value:l(r)(E.index),hidden:!l(r)(E.index),max:10},{default:x(()=>[f("div",{class:k(E.icon)},null,2)]),_:2},1032,["value","hidden"])]),_:2},1032,["index"])]),_:2},1024)]))),128)),b(u,{placement:"left"},{content:x(()=>[Ma]),default:x(()=>[b(m,{type:"danger",class:"mt-40px",size:"large",circle:"",onClick:t},{default:x(()=>[Pa]),_:1})]),_:1})]}),_:1})])}}});var Ha=Ie(Va,[["__scopeId","data-v-1ef837ae"]]);const pe=Object.create(null);pe.open="0";pe.close="1";pe.ping="2";pe.pong="3";pe.message="4";pe.upgrade="5";pe.noop="6";const Ke=Object.create(null);Object.keys(pe).forEach(o=>{Ke[pe[o]]=o});const qa={type:"error",data:"parser error"},Ya=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ua=typeof ArrayBuffer=="function",Wa=o=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(o):o&&o.buffer instanceof ArrayBuffer,nt=({type:o,data:e},t,r)=>Ya&&e instanceof Blob?t?r(e):Fo(e,r):Ua&&(e instanceof ArrayBuffer||Wa(e))?t?r(e):Fo(new Blob([e]),r):r(pe[o]+(e||"")),Fo=(o,e)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];e("b"+r)},t.readAsDataURL(o)},Mo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Le=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(let o=0;o<Mo.length;o++)Le[Mo.charCodeAt(o)]=o;const Ka=o=>{let e=o.length*.75,t=o.length,r,i=0,c,n,s,a;o[o.length-1]==="="&&(e--,o[o.length-2]==="="&&e--);const p=new ArrayBuffer(e),u=new Uint8Array(p);for(r=0;r<t;r+=4)c=Le[o.charCodeAt(r)],n=Le[o.charCodeAt(r+1)],s=Le[o.charCodeAt(r+2)],a=Le[o.charCodeAt(r+3)],u[i++]=c<<2|n>>4,u[i++]=(n&15)<<4|s>>2,u[i++]=(s&3)<<6|a&63;return p},ja=typeof ArrayBuffer=="function",st=(o,e)=>{if(typeof o!="string")return{type:"message",data:ct(o,e)};const t=o.charAt(0);return t==="b"?{type:"message",data:Xa(o.substring(1),e)}:Ke[t]?o.length>1?{type:Ke[t],data:o.substring(1)}:{type:Ke[t]}:qa},Xa=(o,e)=>{if(ja){const t=Ka(o);return ct(t,e)}else return{base64:!0,data:o}},ct=(o,e)=>{switch(e){case"blob":return o instanceof ArrayBuffer?new Blob([o]):o;case"arraybuffer":default:return o}},pt=String.fromCharCode(30),Ga=(o,e)=>{const t=o.length,r=new Array(t);let i=0;o.forEach((c,n)=>{nt(c,!1,s=>{r[n]=s,++i===t&&e(r.join(pt))})})},Ja=(o,e)=>{const t=o.split(pt),r=[];for(let i=0;i<t.length;i++){const c=st(t[i],e);if(r.push(c),c.type==="error")break}return r},dt=4;function V(o){if(o)return Za(o)}function Za(o){for(var e in V.prototype)o[e]=V.prototype[e];return o}V.prototype.on=V.prototype.addEventListener=function(o,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(e),this};V.prototype.once=function(o,e){function t(){this.off(o,t),e.apply(this,arguments)}return t.fn=e,this.on(o,t),this};V.prototype.off=V.prototype.removeListener=V.prototype.removeAllListeners=V.prototype.removeEventListener=function(o,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+o];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+o],this};V.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+o],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};V.prototype.emitReserved=V.prototype.emit;V.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]};V.prototype.hasListeners=function(o){return!!this.listeners(o).length};const ve=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())();function ht(o,...e){return e.reduce((t,r)=>(o.hasOwnProperty(r)&&(t[r]=o[r]),t),{})}const Qa=setTimeout,en=clearTimeout;function oo(o,e){e.useNativeTimers?(o.setTimeoutFn=Qa.bind(ve),o.clearTimeoutFn=en.bind(ve)):(o.setTimeoutFn=setTimeout.bind(ve),o.clearTimeoutFn=clearTimeout.bind(ve))}const on=1.33;function tn(o){return typeof o=="string"?rn(o):Math.ceil((o.byteLength||o.size)*on)}function rn(o){let e=0,t=0;for(let r=0,i=o.length;r<i;r++)e=o.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}class ln extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class ut extends V{constructor(e){super(),this.writable=!1,oo(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new ln(e,t,r)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=st(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const ft="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),fo=64,an={};let Po=0,Ye=0,Vo;function Ho(o){let e="";do e=ft[o%fo]+e,o=Math.floor(o/fo);while(o>0);return e}function gt(){const o=Ho(+new Date);return o!==Vo?(Po=0,Vo=o):o+"."+Ho(Po++)}for(;Ye<fo;Ye++)an[ft[Ye]]=Ye;function mt(o){let e="";for(let t in o)o.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(o[t]));return e}function nn(o){let e={},t=o.split("&");for(let r=0,i=t.length;r<i;r++){let c=t[r].split("=");e[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return e}let bt=!1;try{bt=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch{}const sn=bt;function yt(o){const e=o.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||sn))return new XMLHttpRequest}catch{}if(!e)try{return new ve[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function cn(){}const pn=function(){return new yt({xdomain:!1}).responseType!=null}();class dn extends ut{constructor(e){if(super(e),this.polling=!1,typeof location!="undefined"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==r}const t=e&&e.forceBase64;this.supportsBinary=pn&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Ja(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Ga(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let r="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=gt()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(t==="https"&&Number(this.opts.port)!==443||t==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port);const i=mt(e),c=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(c?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new ce(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,c)=>{this.onError("xhr post error",i,c)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}}class ce extends V{constructor(e,t){super(),oo(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=t.async!==!1,this.data=t.data!==void 0?t.data:null,this.create()}create(){const e=ht(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new yt(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{t.readyState===4&&(t.status===200||t.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof t.status=="number"?t.status:0)},0))},t.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document!="undefined"&&(this.index=ce.requestsCount++,ce.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=cn,e)try{this.xhr.abort()}catch{}typeof document!="undefined"&&delete ce.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}ce.requestsCount=0;ce.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",qo);else if(typeof addEventListener=="function"){const o="onpagehide"in ve?"pagehide":"unload";addEventListener(o,qo,!1)}}function qo(){for(let o in ce.requests)ce.requests.hasOwnProperty(o)&&ce.requests[o].abort()}const hn=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0))(),Ue=ve.WebSocket||ve.MozWebSocket,Yo=!0,un="arraybuffer",Uo=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class fn extends ut{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=Uo?{}:ht(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=Yo&&!Uo?t?new Ue(e,t):new Ue(e):new Ue(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||un,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],i=t===e.length-1;nt(r,this.supportsBinary,c=>{const n={};try{Yo&&this.ws.send(c)}catch{}i&&hn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let r="";this.opts.port&&(t==="wss"&&Number(this.opts.port)!==443||t==="ws"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=gt()),this.supportsBinary||(e.b64=1);const i=mt(e),c=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(c?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}check(){return!!Ue}}const gn={websocket:fn,polling:dn},mn=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,bn=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function go(o){const e=o,t=o.indexOf("["),r=o.indexOf("]");t!=-1&&r!=-1&&(o=o.substring(0,t)+o.substring(t,r).replace(/:/g,";")+o.substring(r,o.length));let i=mn.exec(o||""),c={},n=14;for(;n--;)c[bn[n]]=i[n]||"";return t!=-1&&r!=-1&&(c.source=e,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=yn(c,c.path),c.queryKey=vn(c,c.query),c}function yn(o,e){const t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&r.splice(0,1),e.substr(e.length-1,1)=="/"&&r.splice(r.length-1,1),r}function vn(o,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,c){i&&(t[i]=c)}),t}class ye extends V{constructor(e,t={}){super(),e&&typeof e=="object"&&(t=e,e=null),e?(e=go(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=go(t.host).host),oo(this,t),this.secure=t.secure!=null?t.secure:typeof location!="undefined"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=t.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=nn(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=dt,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new gn[e](r)}open(){let e;if(this.opts.rememberUpgrade&&ye.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){let t=this.createTransport(e),r=!1;ye.priorWebsocketSuccess=!1;const i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",m=>{if(!r)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;ye.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const d=new Error("probe error");d.transport=t.name,this.emitReserved("upgradeError",d)}}))};function c(){r||(r=!0,u(),t.close(),t=null)}const n=m=>{const d=new Error("probe error: "+m);d.transport=t.name,c(),this.emitReserved("upgradeError",d)};function s(){n("transport closed")}function a(){n("socket closed")}function p(m){t&&m.name!==t.name&&c()}const u=()=>{t.removeListener("open",i),t.removeListener("error",n),t.removeListener("close",s),this.off("close",a),this.off("upgrading",p)};t.once("open",i),t.once("error",n),t.once("close",s),this.once("close",a),this.once("upgrading",p),t.open()}onOpen(){if(this.readyState="open",ye.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(t+=tn(i)),r>0&&t>this.maxPayload)return this.writeBuffer.slice(0,r);t+=2}return this.writeBuffer}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,i){if(typeof t=="function"&&(i=t,t=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const c={type:e,data:t,options:r};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){ye.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let r=0;const i=e.length;for(;r<i;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}ye.protocol=dt;function xn(o,e="",t){let r=o;t=t||typeof location!="undefined"&&location,o==null&&(o=t.protocol+"//"+t.host),typeof o=="string"&&(o.charAt(0)==="/"&&(o.charAt(1)==="/"?o=t.protocol+o:o=t.host+o),/^(https?|wss?):\/\//.test(o)||(typeof t!="undefined"?o=t.protocol+"//"+o:o="https://"+o),r=go(o)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const c=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+c+":"+r.port+e,r.href=r.protocol+"://"+c+(t&&t.port===r.port?"":":"+r.port),r}const wn=typeof ArrayBuffer=="function",_n=o=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(o):o.buffer instanceof ArrayBuffer,vt=Object.prototype.toString,kn=typeof Blob=="function"||typeof Blob!="undefined"&&vt.call(Blob)==="[object BlobConstructor]",Cn=typeof File=="function"||typeof File!="undefined"&&vt.call(File)==="[object FileConstructor]";function So(o){return wn&&(o instanceof ArrayBuffer||_n(o))||kn&&o instanceof Blob||Cn&&o instanceof File}function je(o,e){if(!o||typeof o!="object")return!1;if(Array.isArray(o)){for(let t=0,r=o.length;t<r;t++)if(je(o[t]))return!0;return!1}if(So(o))return!0;if(o.toJSON&&typeof o.toJSON=="function"&&arguments.length===1)return je(o.toJSON(),!0);for(const t in o)if(Object.prototype.hasOwnProperty.call(o,t)&&je(o[t]))return!0;return!1}function En(o){const e=[],t=o.data,r=o;return r.data=mo(t,e),r.attachments=e.length,{packet:r,buffers:e}}function mo(o,e){if(!o)return o;if(So(o)){const t={_placeholder:!0,num:e.length};return e.push(o),t}else if(Array.isArray(o)){const t=new Array(o.length);for(let r=0;r<o.length;r++)t[r]=mo(o[r],e);return t}else if(typeof o=="object"&&!(o instanceof Date)){const t={};for(const r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=mo(o[r],e));return t}return o}function Sn(o,e){return o.data=bo(o.data,e),o.attachments=void 0,o}function bo(o,e){if(!o)return o;if(o&&o._placeholder===!0){if(typeof o.num=="number"&&o.num>=0&&o.num<e.length)return e[o.num];throw new Error("illegal attachments")}else if(Array.isArray(o))for(let t=0;t<o.length;t++)o[t]=bo(o[t],e);else if(typeof o=="object")for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&(o[t]=bo(o[t],e));return o}const An=5;var L;(function(o){o[o.CONNECT=0]="CONNECT",o[o.DISCONNECT=1]="DISCONNECT",o[o.EVENT=2]="EVENT",o[o.ACK=3]="ACK",o[o.CONNECT_ERROR=4]="CONNECT_ERROR",o[o.BINARY_EVENT=5]="BINARY_EVENT",o[o.BINARY_ACK=6]="BINARY_ACK"})(L||(L={}));class Dn{constructor(e){this.replacer=e}encode(e){return(e.type===L.EVENT||e.type===L.ACK)&&je(e)?(e.type=e.type===L.EVENT?L.BINARY_EVENT:L.BINARY_ACK,this.encodeAsBinary(e)):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===L.BINARY_EVENT||e.type===L.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=En(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}}class Ao extends V{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e),t.type===L.BINARY_EVENT||t.type===L.BINARY_ACK?(this.reconstructor=new In(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(So(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(L[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===L.BINARY_EVENT||r.type===L.BINARY_ACK){const c=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const n=e.substring(c,t);if(n!=Number(n)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(n)}if(e.charAt(t+1)==="/"){const c=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(c,t)}else r.nsp="/";const i=e.charAt(t+1);if(i!==""&&Number(i)==i){const c=t+1;for(;++t;){const n=e.charAt(t);if(n==null||Number(n)!=n){--t;break}if(t===e.length)break}r.id=Number(e.substring(c,t+1))}if(e.charAt(++t)){const c=this.tryParse(e.substr(t));if(Ao.isPayloadValid(r.type,c))r.data=c;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case L.CONNECT:return typeof t=="object";case L.DISCONNECT:return t===void 0;case L.CONNECT_ERROR:return typeof t=="string"||typeof t=="object";case L.EVENT:case L.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case L.ACK:case L.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class In{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=Sn(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var Tn=Object.freeze(Object.defineProperty({__proto__:null,protocol:An,get PacketType(){return L},Encoder:Dn,Decoder:Ao},Symbol.toStringTag,{value:"Module"}));function ie(o,e,t){return o.on(e,t),function(){o.off(e,t)}}const Bn=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class xt extends V{constructor(e,t,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ie(e,"open",this.onopen.bind(this)),ie(e,"packet",this.onpacket.bind(this)),ie(e,"error",this.onerror.bind(this)),ie(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Bn.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const r={type:L.EVENT,data:t};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const n=this.ids++,s=t.pop();this._registerAckCallback(n,s),r.id=n}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,t){const r=this.flags.timeout;if(r===void 0){this.acks[e]=t;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&this.sendBuffer.splice(c,1);t.call(this,new Error("operation has timed out"))},r);this.acks[e]=(...c)=>{this.io.clearTimeoutFn(i),t.apply(this,[null,...c])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this.packet({type:L.CONNECT,data:e})}):this.packet({type:L.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case L.CONNECT:if(e.data&&e.data.sid){const i=e.data.sid;this.onconnect(i)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case L.EVENT:case L.BINARY_EVENT:this.onevent(e);break;case L.ACK:case L.BINARY_ACK:this.onack(e);break;case L.DISCONNECT:this.ondisconnect();break;case L.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let r=!1;return function(...i){r||(r=!0,t.packet({type:L.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:L.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function Be(o){o=o||{},this.ms=o.min||100,this.max=o.max||1e4,this.factor=o.factor||2,this.jitter=o.jitter>0&&o.jitter<=1?o.jitter:0,this.attempts=0}Be.prototype.duration=function(){var o=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*o);o=(Math.floor(e*10)&1)==0?o-t:o+t}return Math.min(o,this.max)|0};Be.prototype.reset=function(){this.attempts=0};Be.prototype.setMin=function(o){this.ms=o};Be.prototype.setMax=function(o){this.max=o};Be.prototype.setJitter=function(o){this.jitter=o};class yo extends V{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,oo(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Be({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||Tn;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ye(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=ie(t,"open",function(){r.onopen(),e&&e()}),c=ie(t,"error",n=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",n),e?e(n):r.maybeReconnectOnOpen()});if(this._timeout!==!1){const n=this._timeout;n===0&&i();const s=this.setTimeoutFn(()=>{i(),t.close(),t.emit("error",new Error("timeout"))},n);this.opts.autoUnref&&s.unref(),this.subs.push(function(){clearTimeout(s)})}return this.subs.push(i),this.subs.push(c),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ie(e,"ping",this.onping.bind(this)),ie(e,"data",this.ondata.bind(this)),ie(e,"error",this.onerror.bind(this)),ie(e,"close",this.onclose.bind(this)),ie(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r||(r=new xt(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ne={};function Xe(o,e){typeof o=="object"&&(e=o,o=void 0),e=e||{};const t=xn(o,e.path||"/socket.io"),r=t.source,i=t.id,c=t.path,n=Ne[i]&&c in Ne[i].nsps,s=e.forceNew||e["force new connection"]||e.multiplex===!1||n;let a;return s?a=new yo(r,e):(Ne[i]||(Ne[i]=new yo(r,e)),a=Ne[i]),t.query&&!e.query&&(e.query=t.queryKey),a.socket(t.path,e)}Object.assign(Xe,{Manager:yo,Socket:xt,io:Xe,connect:Xe});const Nn={key:0,class:"i-ep-expand"},Ln={key:1,class:"i-ep-fold"},Rn=H({__name:"ChatContainer",setup(o){const e=_e(),{proxy:t}=Je(),r="http://localhost:5323";be(()=>{i()});async function i(){e.token&&(n(),e.allSessionList.length||c())}function c(){ir().then(s=>{(s==null?void 0:s.code)==200?e.allSessionList=s==null?void 0:s.data:t.$message.error(s==null?void 0:s.message)})}function n(){e.socket=Xe(r,{auth:{token:e.token}}),e.socket.on("connect",()=>{console.log("\u8FDE\u63A5\u6210\u529F"),e.socket.emit("joinChat")}),e.socket.on("disconnect",()=>{console.log("\u8FDE\u63A5\u5DF2\u65AD\u5F00")}),e.socket.on("changMsgstatus",s=>{e.conversitionList.map(a=>{a.timestamp!=null&&a.timestamp==s.timestamp&&(a.status=1)})}),e.socket.on("joinSuccess",s=>{e.userInfo&&(e.userInfo.onlineStatus=!0),e.conversitionList=s.conversition,e.sessionList=s.historySessionList}),e.socket.on("reviceMsg",s=>{var p,u,m;if(s.recipientId==((p=e.userInfo)==null?void 0:p.id)){e.playMusic(),window.Notification&&Notification.permission!=="denied"&&Notification.requestPermission(function(d){new Notification("\u6D88\u606F\u901A\u77E5",{body:"\u4F60\u6709\u4E00\u6761\u65B0\u7684\u6D88\u606F"})});for(let d of e.sessionList)if(d.id==s.sendId&&e.sessionSelectId==s.sendId&&e.navId==="1"){s.isRead=!0;let A={sendId:s.sendId};e.socket.emit("changeMsgRead",A);break}}if(e.sendLocal(s),((m=(u=e.sessionList.filter(d=>d.id==s.sendId))==null?void 0:u.length)!=null?m:0)===0){let d=e.allSessionList.filter(A=>A.id==s.sendId);e.sessionList.push(...d)}e.toBottom()}),e.socket.on("squeezeOut",()=>{e.logout(),ho.error("\u8D26\u6237\u5728\u5176\u5B83\u5730\u65B9\u767B\u9646\uFF0C\u4F1A\u8BDD\u5DF2\u65AD\u5F00\uFF01"),uo.push({name:"Login"})}),e.socket.on("forceOut",()=>{e.logout(),ho.error("\u767B\u5F55\u5DF2\u8FC7\u671F\uFF01"),uo.push({name:"Login"})})}return(s,a)=>{const p=Ze,u=Ha,m=La,d=Pe,A=fl,C=Sa;return g(),_(Z,null,[b(p,{class:"fixed top-58px left-10px z-2 p-2px text-16px",type:"primary",text:"",onClick:a[0]||(a[0]=w=>l(e).drawer=!l(e).drawer)},{default:x(()=>[l(e).drawer?(g(),_("i",Ln)):(g(),_("i",Nn))]),_:1}),b(d,{type:"flex",class:"w-full border-rounded-33px"},{default:x(()=>[b(A,{modelValue:l(e).drawer,"onUpdate:modelValue":a[1]||(a[1]=w=>l(e).drawer=w),size:"90%","lock-scroll":!0,direction:"ltr"},{default:x(()=>[b(d,null,{default:x(()=>[b(u),b(m)]),_:1})]),_:1},8,["modelValue"]),b(u,{class:"lg:block hidden"}),b(m,{class:"lg:block hidden"}),b(C)]),_:1})],64)}}});var On=Ie(Rn,[["__scopeId","data-v-6d39cf5c"]]);var $n="/assets/notice.9ff3db20.mp3";const zn=o=>(ko("data-v-24b9058b"),o=o(),Co(),o),Fn=zn(()=>f("audio",{id:"tip-music"},[f("source",{src:$n,type:"audio/mp3"})],-1)),Mn={absolute:"","right-30px":"","top-15px":""},Pn=H({__name:"Chat",setup(o){const e=_e();return J(()=>e.openMusic,(t,r)=>{t&&(e.tipMusic=document.getElementById("tipMusic"))}),(t,r)=>{const i=Fi,c=On,n=ar,s=Pe;return g(),_(Z,null,[Fn,f("div",Mn,[b(i,{class:"chat-switch-music",modelValue:l(e).openMusic,"onUpdate:modelValue":r[0]||(r[0]=a=>l(e).openMusic=a),"inline-prompt":"","active-text":"\u5F00\u63D0\u793A","inactive-text":"\u5173\u63D0\u793A"},null,8,["modelValue"])]),b(s,{type:"flex",align:"middle",justify:"center"},{default:x(()=>[b(n,{shadow:"hover",class:"lg:w-1200px w-full mt-30px chat-container"},{default:x(()=>[b(c)]),_:1})]),_:1})],64)}}});var qn=Ie(Pn,[["__scopeId","data-v-24b9058b"]]);export{qn as default};
